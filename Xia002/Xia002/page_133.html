<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>资源打包</TITLE>
<META content="text/html; charset=gb2312" http-equiv=Content-Type>
<META name=GENERATOR content="MSHTML 8.00.7601.19104"><LINK rel=stylesheet 
href="_template.css"></HEAD>
<BODY>
<DIV id=nsbanner>
<DIV id=bannerrow1>
<TABLE class=bannerparthead>
  <TBODY>
  <TR id=hdr>
    <TD class=runninghead noWrap>wwwwww</TD></TR></TBODY></TABLE></DIV>
<DIV id=titlerow>
<H1 class=dtH1>资源打包</H1></DIV></DIV>
<DIV id=nstext><BR>
<P>using UnityEngine;<BR>using UnityEditor;<BR>using 
System.Collections.Generic;<BR>public class 
ExportAssetBundles{<BR>&nbsp;&nbsp;&nbsp; 
[MenuItem("Assets/AssetBundle/AssetBundle-关联细节模型-打包")]<BR>&nbsp;&nbsp;&nbsp; 
static void ExportResource() {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
string aa_name = 
Selection.activeObject.name;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
string path = EditorUtility.SaveFilePanel("Save Resource", "", aa_name, 
"ab");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (path.Length != 0) 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Object[] 
selection = Selection.GetFiltered(typeof(Object), 
SelectionMode.DeepAssets);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
BuildPipeline.BuildAssetBundle(Selection.activeObject, selection, path, 
BuildAssetBundleOptions.UncompressedAssetBundle | 
BuildAssetBundleOptions.UncompressedAssetBundle);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Selection.objects = selection;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; 
[MenuItem("Assets/AssetBundle/发AssetBundle-模型-打包")]<BR>&nbsp;&nbsp;&nbsp; static 
void ExportResourceNoTrack(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
string aa_name = 
Selection.activeObject.name;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
string path = EditorUtility.SaveFilePanel("Save Resource", "", aa_name, 
"ab");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (path.Length != 
0){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
BuildPipeline.BuildAssetBundle(Selection.activeObject, Selection.objects, path, 
BuildAssetBundleOptions.CollectDependencies, 
BuildTarget.Android);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; 
[MenuItem("Assets/AssetBundle/发AssetBundle-模型-批量打包")]<BR>&nbsp;&nbsp;&nbsp; 
static void ExportResourceNoTrack2() 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UnityEngine.Object[] z模型数组 = 
Selection.objects;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string path = 
EditorUtility.SaveFilePanel("Save Resource","","{0}", 
"ab");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string[] z路径数组=new 
string[z模型数组.Length];<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
List&lt;Object[]&gt; o_模型数组列表=new 
List&lt;Object[]&gt;();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int 
i=0;i&lt;z模型数组.Length;i++) 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
z路径数组[i]=string.Format(path,z模型数组[i].name);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
o_模型数组列表.Add(new Object[] { z模型数组[i] 
});<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int 
i=0;i&lt;z路径数组.Length;i++) 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
BuildPipeline.BuildAssetBundle(z模型数组[i], o_模型数组列表[i], z路径数组[i], 
BuildAssetBundleOptions.CollectDependencies, 
BuildTarget.Android);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; 
[MenuItem("Assets/AssetBundle/发BuildPlaye-场景打包")]<BR>&nbsp;&nbsp;&nbsp; static 
void&nbsp; MyBuild(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string 
o_name = 
Selection.activeObject.name;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
string[] path&nbsp; = { AssetDatabase.GetAssetPath(Selection.activeInstanceID) 
};<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string o_保存路径 = 
EditorUtility.SaveFilePanel("保存u3d文件__名字不要改动_______否则加载场景时会报错", "", o_name, 
"u3d");&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (path.Length != 
0){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
BuildPipeline.BuildPlayer(path, o_保存路径, BuildTarget.StandaloneWindows, 
BuildOptions.BuildAdditionalStreamedScenes);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; }<BR>}</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>Write here...&nbsp;</P></DIV>
<DIV id=nstext>
<HR>
</DIV>
<DIV class=footer>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright &copy;2018 <A href="" target=_blank></A>. 
All Rights Reserved. </P></DIV></BODY></HTML>
