<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>多线程</TITLE>
<META content="text/html; charset=gb2312" http-equiv=Content-Type>
<META name=GENERATOR content="MSHTML 11.00.9600.18125"><LINK rel=stylesheet 
href="_template.css"></HEAD>
<BODY>
<DIV id=nsbanner>
<DIV id=bannerrow1>
<TABLE class=bannerparthead>
  <TBODY>
  <TR id=hdr>
    <TD class=runninghead noWrap>wwwwww</TD></TR></TBODY></TABLE></DIV>
<DIV id=titlerow>
<H1 class=dtH1>多线程</H1></DIV></DIV>
<DIV id=nstext><BR>
<P><FONT size=3>class C_mm{</FONT></P>
<P><FONT size=3><FONT 
color=#ff0000>//GCD:===========================================================</FONT><BR>func 
S_001(){<BR><FONT color=#008000>&nbsp;&nbsp;&nbsp; 
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT,0),{</FONT><BR>&nbsp;&nbsp;&nbsp; 
//这里写需要放到子线程做的耗时的代码<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
color=#008000> dispatch_async(dispatch_get_main_queue(), 
{</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
//这里返回主线程，写需要主线程执行的代码</FONT></P>
<P><FONT size=3>&nbsp;&nbsp;<FONT color=#008000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
})<BR>&nbsp;&nbsp;&nbsp; })</FONT><BR>}<BR><FONT 
color=#ff0000>//NSThread：=========================================================</FONT><BR>func 
S_002(){<BR>&nbsp;&nbsp;&nbsp;<FONT color=#008000> 
NSThread.detachNewThreadSelector("这里写需要放到子线程实现的方法的方法名",toTarget:self,withObject:nil);<BR></FONT>}<BR><FONT 
color=#ff0000>//NSOperationQueue:==================================================</FONT><BR>//首先需要继承一个NSOperation类，并且必须要包含overridefunc 
main()方法，类如下所示：<BR><FONT color=#008000>class myOperation : 
NSOperation{<BR>&nbsp;&nbsp;&nbsp; override func 
start(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
super.start()<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; override func 
main(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
//耗时的操作放在这里<BR>&nbsp;&nbsp;&nbsp; }<BR>}</FONT><BR>//然后再把操作放入队列里就OK了：<BR>func 
S_003(){<BR>&nbsp;&nbsp;&nbsp; 
NSOperationQueue().addOperation(myOperation());<BR>&nbsp;&nbsp;&nbsp; 
}<BR>}</FONT></P>
<P><FONT size=3></FONT>&nbsp;</P>
<P><FONT size=3></FONT>&nbsp;</P>
<P><FONT size=3></FONT>&nbsp;</P>
<P><FONT size=3></FONT>&nbsp;</P>
<P><FONT size=3></FONT>&nbsp;</P>
<P><FONT size=3></FONT>&nbsp;</P>
<P><FONT size=3><FONT 
color=#ff0000>//委托类－－－－－－－－－－－－－---------------------------------</FONT><BR></FONT><FONT 
size=3>protocol Delegate{&nbsp;&nbsp;</FONT></P>
<P><FONT size=3>&nbsp;&nbsp;&nbsp; func 
S_Start(ss:String);<BR>}</FONT></P></DIV></BODY></HTML>
